<section class="section-play-list-songs">
    <section class="section-container">
        <div class="container-header">
            <app-svg-back
             (click)="this.stateMusic.stateSectionPlayListService.toogleAddSong.set(false)"
              width="1.5rem" height="1.5rem" color="white" colorHover="var(--primary-color)" />
            <h2>Mi listas de musica</h2>
            <app-button-generic 
            (click)="this.stateMusic.stateSectionPlayListService.toogleFormulary.set(true)" 
            buttonText="Nueva lista" 
            width="fit-content" 
            height="2.5rem" 
            typeButton="button" />
        </div>
        <div class="container-body">
            @for (list of this.listsListSongs; track $index) {
                <div (click)="this.getListSongs(list)" class="container-item">
                    <div class="container-img">
                        <img [src]="list.image" [alt]="list.name">
                    </div>
                    <div class="container-information">
                        <h3>{{list.name}}</h3>
                        <p>{{list.description}}</p>
                        <div class="container-elements">
                            <div class="container-item-element">
                                <div class="container-img-item">
                                    <app-svg-note width="100%" height="100%" color="var(--color-gray-secondary)" />
                                </div>
                                <p>{{list.listSongs.length}} canciones</p>
                            </div>
                            <div class="container-item-element">
                                <div class="container-img-item">
                                    <app-svg-clock width="99%" height="99%" color="var(--color-gray-secondary)" />
                                </div>
                                <p>{{list.durationList}}</p>
                            </div>
                        </div>
                    </div>
                    <div class="container-img-play">
                        @if(this.stateMusic.stateMusicPlayerService.autoPlaySongState()) {
                            <app-svg-stop width="1.2rem" height="1.2rem" color="white" />
                        } @else {
                            <app-svg-play width="1.2rem" height="1.2rem" color="white" />    
                        }
                    </div>
                </div>
            }
        </div>
    </section>
    @if (this.stateMusic.stateMyListSongsService.activateSection()) {
        <app-section-card-lists-song-selected/>
    }

    @if (this.stateMusic.stateSectionPlayListService.toogleFormulary()) {
        @defer (on immediate) {
            <app-formulary-create-list-music />
        } @placeholder {
            <p>cargando...</p>
        }
    }
</section>
